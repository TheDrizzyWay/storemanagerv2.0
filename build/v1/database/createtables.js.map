{"version":3,"sources":["../../../api/v1/database/createtables.js"],"names":["console","log","pool","query"],"mappings":";;;;;;;;;;;;AAAAA,QAAQC,GAAR,CAAY,oBAAZ;;AAEA,yEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACOC,KAAKC,KAAL,6VADP;;AAAA;AAAA;AAAA,2BAWOD,KAAKC,KAAL,yZAXP;;AAAA;AAAA;AAAA,2BAuBOD,KAAKC,KAAL,wMAvBP;;AAAA;AAAA;AAAA,2BA6BOD,KAAKC,KAAL,wcA7BP;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAD","file":"createtables.js","sourcesContent":["console.log('Creating tables...');\n\n(async () => {\n  await pool.query(`CREATE TABLE IF NOT EXISTS users(\n      id UUID PRIMARY KEY,\n      first_name VARCHAR(50) NOT NULL,\n      last_name VARCHAR(50) NOT NULL,\n      email VARCHAR(100) UNIQUE NOT NULL,\n      password VARCHAR(100) NOT NULL,\n      role VARCHAR(20) NOT NULL,\n      created_at TIMESTAMPTZ DEFAULT NOW(),\n      updated_at TIMESTAMPTZ DEFAULT NULL)`);\n\n  await pool.query(`CREATE TABLE IF NOT EXISTS products(\n      id UUID PRIMARY KEY,\n      name VARCHAR(50) UNIQUE NOT NULL,\n      description TEXT NOT NULL,\n      price float NOT NULL,\n      quantity integer NOT NULL,\n      minimum_quantity integer NOT NULL,\n      imgUrl text NOT NULL,\n      category VARCHAR(100) DEFAULT NULL,\n      created_at TIMESTAMPTZ DEFAULT NOW(),\n      updated_at TIMESTAMPTZ DEFAULT NULL)`);\n\n  await pool.query(`CREATE TABLE IF NOT EXISTS categories(\n      id UUID PRIMARY KEY,\n      name VARCHAR(50) UNIQUE NOT NULL,\n      created_at TIMESTAMPTZ DEFAULT NOW(),\n      updated_at TIMESTAMPTZ DEFAULT NULL)`);\n\n  await pool.query(`CREATE TABLE IF NOT EXISTS sales(\n      sale_id UUID PRIMARY KEY,\n      product_id UUID NOT NULL,\n      name VARCHAR(50) NOT NULL,\n      price float NOT NULL,\n      quantity_sold integer NOT NULL,\n      total float NOT NULL,\n      seller_id UUID NOT NULL,\n      sold_at TIMESTAMPTZ DEFAULT NOW(),\n      FOREIGN KEY (product_id) REFERENCES products (id) ON DELETE CASCADE,\n      FOREIGN KEY (seller_id) REFERENCES users (id) ON DELETE CASCADE)`);\n})();\n"]}